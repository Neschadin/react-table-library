import{t as e}from"./toConsumableArray-d2e8a5d7.js";import t from"styled-components";import*as n from"react";import{T as r,R as o,p as c,B as a,F as s,a as i,b as l,_ as u,c as f,d,o as p,H as y,C as m}from"./Cell-9d1ebdcf.js";import{S as b}from"./Sort-e479fef8.js";import{S as v}from"./Select-eec7d496.js";import{T as h}from"./Tree-d9a33a63.js";import O from"classnames";import{d as w}from"./defineProperty-38df0e0b.js";import{i as _}from"./isRowClick-07f79142.js";import g from"use-double-click";import{u as C,s as j,a as k,b as B}from"./useSyncControlledState-6116efef.js";var E=n.createContext(null),R=t("div").withConfig({displayName:"Table___StyledDiv",componentId:"sc-6or1gt-0"})([""," ",""],(function(e){return e._css}),(function(e){return e._css2})),S=function(t){var c=t.data,a=t.theme,s=t.layout,i=t.sort,l=t.pagination,u=t.select,f=t.tree,d=t.children,p=n.useRef(),y=e(c.nodes);return i&&!i._options.isServer&&(y=i.state.sortFn(y,i._options.sortFns,!!f)),l&&!l._options.isServer&&(y=l.state.getPages(y)[l.state.page]||[]),f&&!f._options.isServer&&(y=f.state.fromTreeToListExtended(c,y,f,f._options.treeXLevel,f._options.treeYLevel,null)),n.createElement(R,{className:"table",role:"grid",ref:p,_css:null==a?void 0:a.Table,_css2:"\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: relative;\n"},n.createElement(E.Provider,{value:c},n.createElement(r.Provider,{value:a},n.createElement(b.Provider,{value:i},n.createElement(v.Provider,{value:u},n.createElement(h.Provider,{value:f},n.createElement(o,{layout:s,tableRef:p},d(y))))))))};S.propTypes={data:c.objectOf(c.any),theme:c.objectOf(c.any),layout:c.shape({custom:c.bool}),children:c.oneOfType([c.arrayOf(c.node),c.node,c.func])};var P=function(e){var t=e.children;return n.createElement("div",null,t)};P.propTypes={children:c.oneOfType([c.arrayOf(c.node),c.node,c.func])};var N=t("div").withConfig({displayName:"Header___StyledDiv",componentId:"sc-2qfcw8-0"})([""," ",""],"\n  position: sticky;\n  top: 0;\n  z-index: 3;\n",(function(e){return e._css})),x=function(e){var t=e.style,o=e.children,c=n.useContext(r);return n.createElement(N,{role:"rowgroup",className:"thead",style:t,_css:null==c?void 0:c.Header},n.Children.map(o,(function(e){return n.cloneElement(e)})))};x.propTypes={style:c.objectOf(c.any),children:c.oneOfType([c.arrayOf(c.node),c.node,c.func])};var T="\n  display: flex;\n  align-items: stretch;\n",F="\n  ".concat(T,"\n\n  ").concat((function(){}),"\n  background-color: ").concat(a,";\n\n  font-size: 18px;\n  color: ").concat(s,";\n\n  &:hover {\n    color: ").concat(i,";\n  }\n\n  &.disabled {\n    color: ").concat(l,";\n  }\n\n  &.clickable {\n    cursor: pointer;\n  }\n"),D=t("div").withConfig({displayName:"Row___StyledDiv",componentId:"sc-1dfcu6h-0"})(["",""],F),A=n.forwardRef((function(e,t){return n.createElement(D,u({},e,{ref:t}))})),H="\n  ".concat(T,"\n\n  background-color: ").concat(a,";\n\n  border-bottom: 1px solid ").concat(f,";\n\n  font-size: 18px;\n  color: ").concat(i,";\n"),z=t("div").withConfig({displayName:"Row___StyledDiv2",componentId:"sc-1dfcu6h-1"})(["",""],H),L=function(e,t){var r=n.useContext(d),o=r.layout,c=r.resizedLayout,a=n.useRef();n.useLayoutEffect((function(){a.current||(a.current=!0,Array.from(e.current.querySelectorAll(t)).forEach((function(e,t){null!==c.current[t]&&(e.style.width=c.current[t])})))}),[e,o,c,t])},q=t(n.forwardRef((function(e,t){return n.createElement(z,u({},e,{ref:t}))}))).withConfig({displayName:"HeaderRow___StyledHeaderRowContainer",componentId:"sc-1jayq14-0"})([""," ",""],(function(e){return e._css}),(function(e){return e._css2})),I=function(e){var t=e.className,o=e.disabled,c=e.children,a=n.useContext(r),s=n.useRef();return function(e,t){var r=n.useContext(d),o=r.layout,c=r.resizedLayout;n.useLayoutEffect((function(){var n=Array.from(e.current.querySelectorAll(t)),r=Array.from(e.current.querySelectorAll("".concat(t,".shrink"))),a=r.reduce((function(e,t){return e+t.getBoundingClientRect().width}),0),s=Array.from(e.current.querySelectorAll("".concat(t,":not(.shrink)")));c.current=n.map((function(e,t){var n;if(null!==(n=c.current)&&void 0!==n&&n[t])return c.current[t];if(r.includes(e))return"".concat(e.getBoundingClientRect().width,"px");if(null==o||!o.custom){var i=100/s.length,l=a/s.length;return"calc(".concat(i,"% - ").concat(l,"px)")}return null}))}),[o,e,c,t])}(s,".th"),L(s,".th"),n.createElement(q,{role:"rowheader",className:O("tr","tr-header",t,{disabled:o}),ref:s,_css:null==a?void 0:a.BaseRow,_css2:null==a?void 0:a.HeaderRow},n.Children.toArray(c).filter(Boolean).map((function(e){return n.cloneElement(e,{index:Number(e.key.replace(".","").replace("$",""))})})))};I.propTypes={className:c.string,disabled:c.bool,children:c.oneOfType([c.arrayOf(c.node),c.node,c.func])};var X=function(){};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=t(A).withConfig({displayName:"Row___StyledRowContainer",componentId:"sc-1ehtgab-0"})([""," "," ",""],(function(e){return e._css}),(function(e){return e._css2}),(function(e){return e._css3})),J=function(e){var t=e.item,o=e.className,c=e.disabled,a=e.onClick,s=e.onDoubleClick,i=e.children,l=p(e,["item","className","disabled","onClick","onDoubleClick","children"]),f=function(e,t){return Object.values(e).filter(Boolean).filter((function(e){return e._getRowProps})).map((function(n){return n._getRowProps(t,e)}))}({select:n.useContext(v),tree:n.useContext(h)},e),d=n.useContext(r),y=function(e,t){var n=e.reduce((function(e,t){var n=t.theme,r=t.className,o=t.onClick,c="\n        ".concat(e.themeByFeature,"\n        ").concat(n,"\n      "),a=O(e.classNamesByFeature,r);return $($({},e),{},{themeByFeature:c,classNamesByFeature:a,onClickByFeature:function(t,n){o(t,n),e.onClickByFeature(t,n)}})}),{themeByFeature:"",classNamesByFeature:"",onClickByFeature:function(e,n){t&&_(n)&&t(e,n)}});return{themeByFeature:n.themeByFeature,classNamesByFeature:n.classNamesByFeature,onClickByFeature:n.onClickByFeature}}(f,a),m=y.themeByFeature,b=y.classNamesByFeature,w=y.onClickByFeature,C=n.useRef();return function(e,t,n,r){g({onSingleClick:t?function(e){return t(r,e)}:X,onDoubleClick:n?function(e){return n(r,e)}:X,latency:n?250:0,ref:e})}(C,w,s,t),L(C,".td"),n.createElement(G,u({},l,{role:"row",className:O("tr","tr-body",b,o,{disabled:c,clickable:w||s}),ref:C,_css:m,_css2:null==d?void 0:d.BaseRow,_css3:null==d?void 0:d.Row}),i)};J.propTypes={item:c.objectOf(c.any),className:c.string,disabled:c.bool,onClick:c.func,onDoubleClick:c.func,children:c.oneOfType([c.arrayOf(c.node),c.node,c.func])};var K=function(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e}),[e]),t};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e,t){switch(t.type){case"SET":return function(e,t){return Q(Q({},e),t.payload)}(e,t);default:throw new Error}},V={},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=n||{},c=o.state||V,a=o.onChange||function(){},s=C(U,c,[],[a],r),i=j(s,2),l=i[0],u=i[1];return k(c,l,(function(){return u({type:"SET",payload:c})})),B(e,r,l),l},Z=Object.freeze({__proto__:null,Table:S,Body:P,Header:x,HeaderRow:I,Row:J,HeaderCell:y,Cell:m,useTableContext:K,useCustom:W});export{P as B,x as H,J as R,S as T,I as a,W as b,Z as i,K as u};
//# sourceMappingURL=index-dc8f0d63.js.map
