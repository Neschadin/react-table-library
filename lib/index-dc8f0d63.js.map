{"version":3,"file":"index-dc8f0d63.js","sources":["../src/common/context/Table.js","../src/table/Table/index.js","../src/table/Body/index.js","../src/table/Header/index.js","../src/common/components/Row.js","../src/resize/useConsumeRowLayout.js","../src/table/Row/HeaderRow.js","../src/resize/useProduceRowLayout.js","../src/table/Row/useDoubleClick.js","../src/table/Row/Row.js","../src/table/useTableContext/index.js","../src/table/useCustom/index.js"],"sourcesContent":["import * as React from 'react';\n\nconst TableContext = React.createContext(null);\n\nexport { TableContext };\n","/* eslint-disable react/prop-types */ // TODO\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TableContext } from '@table-library/react-table-library/common/context/Table';\nimport { ThemeContext } from '@table-library/react-table-library/common/context/Theme';\nimport { ResizeProvider } from '@table-library/react-table-library/common/context/Resize';\nimport { SortContext } from '@table-library/react-table-library/common/context/Sort';\nimport { SelectContext } from '@table-library/react-table-library/common/context/Select';\nimport { TreeContext } from '@table-library/react-table-library/common/context/Tree';\n\nimport styles from './styles';\n\nconst Table = ({\n  data,\n  theme,\n  layout,\n  sort,\n  pagination,\n  select,\n  tree,\n  children,\n}) => {\n  const tableRef = React.useRef();\n\n  let modifiedNodes = [...data.nodes];\n\n  if (sort && !sort._options.isServer) {\n    modifiedNodes = sort.state.sortFn(\n      modifiedNodes,\n      sort._options.sortFns,\n      !!tree\n    );\n  }\n\n  if (pagination && !pagination._options.isServer) {\n    // TODO tree?\n    modifiedNodes =\n      pagination.state.getPages(modifiedNodes)[\n        pagination.state.page\n      ] || [];\n  }\n\n  if (tree && !tree._options.isServer) {\n    modifiedNodes = tree.state.fromTreeToListExtended(\n      data,\n      modifiedNodes,\n      tree,\n      tree._options.treeXLevel,\n      tree._options.treeYLevel,\n      null\n    );\n  }\n\n  return (\n    <div\n      className=\"table\"\n      css={`\n        ${theme?.Table}\n        ${styles()}\n      `}\n      role=\"grid\"\n      ref={tableRef}\n    >\n      <TableContext.Provider value={data}>\n        <ThemeContext.Provider value={theme}>\n          <SortContext.Provider value={sort}>\n            <SelectContext.Provider value={select}>\n              <TreeContext.Provider value={tree}>\n                <ResizeProvider layout={layout} tableRef={tableRef}>\n                  {children(modifiedNodes)}\n                </ResizeProvider>\n              </TreeContext.Provider>\n            </SelectContext.Provider>\n          </SortContext.Provider>\n        </ThemeContext.Provider>\n      </TableContext.Provider>\n    </div>\n  );\n};\n\nTable.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  theme: PropTypes.objectOf(PropTypes.any),\n  layout: PropTypes.shape({\n    custom: PropTypes.bool,\n  }),\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n    PropTypes.func,\n  ]),\n};\n\nexport { Table };\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Body = ({ children }) => {\n  return <div>{children}</div>;\n};\n\nBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n    PropTypes.func,\n  ]),\n};\n\nexport { Body };\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ThemeContext } from '@table-library/react-table-library/common/context/Theme';\n\nconst headerRow = `\n  position: sticky;\n  top: 0;\n  z-index: 3;\n`;\n\nconst Header = ({ style, children }) => {\n  const theme = React.useContext(ThemeContext);\n\n  return (\n    <div\n      role=\"rowgroup\"\n      className=\"thead\"\n      css={`\n        ${headerRow}\n        ${theme?.Header}\n      `}\n      style={style}\n    >\n      {React.Children.map(children, (child) =>\n        React.cloneElement(child)\n      )}\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  style: PropTypes.objectOf(PropTypes.any),\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n    PropTypes.func,\n  ]),\n};\n\nexport { Header };\n","import * as React from 'react';\n\nimport * as COLORS from '@table-library/react-table-library/common/colors';\n\nconst baseStyle = `\n  display: flex;\n  align-items: stretch;\n`;\n\nconst rowContainerStyle = `\n  ${baseStyle}\n\n  ${() => {\n    /* #1 */\n  }}\n  background-color: ${COLORS.BACKGROUND};\n\n  font-size: 18px;\n  color: ${COLORS.FONT_SECONDARY};\n\n  &:hover {\n    color: ${COLORS.FONT_PRIMARY};\n  }\n\n  &.disabled {\n    color: ${COLORS.FONT_DISABLED};\n  }\n\n  &.clickable {\n    cursor: pointer;\n  }\n`;\n\nconst RowContainer = React.forwardRef((props, ref) => {\n  return <div {...props} css={rowContainerStyle} ref={ref} />;\n});\n\nconst headerRowContainerStyle = `\n  ${baseStyle}\n\n  background-color: ${COLORS.BACKGROUND};\n\n  border-bottom: 1px solid ${COLORS.BORDER};\n\n  font-size: 18px;\n  color: ${COLORS.FONT_PRIMARY};\n`;\n\nconst HeaderRowContainer = React.forwardRef((props, ref) => {\n  return <div {...props} css={headerRowContainerStyle} ref={ref} />;\n});\n\nexport { RowContainer, HeaderRowContainer };\n","import * as React from 'react';\n\nimport { ResizeContext } from '@table-library/react-table-library/common/context/Resize';\n\n// take all columns of this row\n// and assign their width from the ref\n// which has been produced in the header\n\nexport const useConsumeRowLayout = (ref, selector) => {\n  const { layout, resizedLayout } = React.useContext(ResizeContext);\n\n  const calledOnce = React.useRef();\n\n  React.useLayoutEffect(() => {\n    if (calledOnce.current) return;\n    calledOnce.current = true;\n\n    const allCells = Array.from(\n      ref.current.querySelectorAll(selector)\n    );\n\n    allCells.forEach((cell, index) => {\n      if (resizedLayout.current[index] === null) return;\n\n      cell.style.width = resizedLayout.current[index];\n    });\n  }, [ref, layout, resizedLayout, selector]);\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\n\nimport { HeaderRowContainer } from '@table-library/react-table-library/common/components/Row';\nimport { ThemeContext } from '@table-library/react-table-library/common/context/Theme';\nimport { useProduceRowLayout } from '@table-library/react-table-library/resize/useProduceRowLayout';\nimport { useConsumeRowLayout } from '@table-library/react-table-library/resize/useConsumeRowLayout';\n\nconst HeaderRow = ({ className, disabled, children }) => {\n  const theme = React.useContext(ThemeContext);\n\n  const ref = React.useRef();\n  useProduceRowLayout(ref, '.th');\n  useConsumeRowLayout(ref, '.th');\n\n  return (\n    <HeaderRowContainer\n      role=\"rowheader\"\n      className={cs('tr', 'tr-header', className, { disabled })}\n      css={`\n        ${theme?.BaseRow}\n        ${theme?.HeaderRow}\n      `}\n      ref={ref}\n    >\n      {React.Children.toArray(children)\n        .filter(Boolean)\n        .map((child) =>\n          React.cloneElement(child, {\n            index: Number(\n              child.key.replace('.', '').replace('$', '')\n            ),\n          })\n        )}\n    </HeaderRowContainer>\n  );\n};\n\nHeaderRow.propTypes = {\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n    PropTypes.func,\n  ]),\n};\n\nexport { HeaderRow };\n","import * as React from 'react';\n\nimport { ResizeContext } from '@table-library/react-table-library/common/context/Resize';\n\n// take all header columns\n// read their width (whether it's % or px, it ends up as px)\n// and write their width down into a ref to consume them in every row (and this header row)\n\nexport const useProduceRowLayout = (ref, selector) => {\n  const { layout, resizedLayout } = React.useContext(ResizeContext);\n\n  React.useLayoutEffect(() => {\n    const allCells = Array.from(\n      ref.current.querySelectorAll(selector)\n    );\n\n    const shrinkCells = Array.from(\n      ref.current.querySelectorAll(`${selector}.shrink`)\n    );\n\n    const shrinkCellsWidth = shrinkCells.reduce(\n      (acc, element) => acc + element.getBoundingClientRect().width,\n      0\n    );\n\n    const normalCells = Array.from(\n      ref.current.querySelectorAll(`${selector}:not(.shrink)`)\n    );\n\n    resizedLayout.current = allCells.map((cell, index) => {\n      // if it has been resized, take resize layout\n      if (resizedLayout.current?.[index]) {\n        return resizedLayout.current[index];\n      }\n\n      // if it is a shrink cell, shrink cell\n      if (shrinkCells.includes(cell)) {\n        return `${cell.getBoundingClientRect().width}px`;\n      }\n\n      // if it is no custom layout, divide equally\n      if (!layout?.custom) {\n        const percentage = 100 / normalCells.length;\n        const diff = shrinkCellsWidth / normalCells.length;\n\n        return `calc(${percentage}% - ${diff}px)`;\n      }\n\n      return null;\n    });\n  }, [layout, ref, resizedLayout, selector]);\n};\n","import useDoubleClickBase from 'use-double-click';\n\nconst NOOP = () => {};\n\nexport const useDoubleClick = (ref, onClick, onDoubleClick, node) =>\n  useDoubleClickBase({\n    onSingleClick: onClick ? (event) => onClick(node, event) : NOOP,\n    onDoubleClick: onDoubleClick\n      ? (event) => onDoubleClick(node, event)\n      : NOOP,\n    latency: onDoubleClick ? 250 : 0,\n    ref,\n  });\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport cs from 'classnames';\n\nimport { RowContainer } from '@table-library/react-table-library/common/components/Row';\nimport { isRowClick } from '@table-library/react-table-library/common/util/isRowClick';\nimport { ThemeContext } from '@table-library/react-table-library/common/context/Theme';\nimport { SelectContext } from '@table-library/react-table-library/common/context/Select';\nimport { TreeContext } from '@table-library/react-table-library/common/context/Tree';\n\nimport { useConsumeRowLayout } from '@table-library/react-table-library/resize/useConsumeRowLayout';\n\nimport { useDoubleClick } from './useDoubleClick';\n\nconst getRowProps = (features, props) =>\n  Object.values(features)\n    .filter(Boolean)\n    .filter((feature) => feature._getRowProps)\n    .map((feature) => feature._getRowProps(props, features));\n\nconst evaluateProps = (rowPropsByFeature, onSingleClick) => {\n  const {\n    themeByFeature,\n    classNamesByFeature,\n    onClickByFeature,\n  } = rowPropsByFeature.reduce(\n    (acc, value) => {\n      const { theme, className, onClick } = value;\n\n      const mergedTheme = `\n        ${acc.themeByFeature}\n        ${theme}\n      `;\n\n      const mergedClassName = cs(acc.classNamesByFeature, className);\n\n      const mergedOnClick = (node, event) => {\n        onClick(node, event);\n        acc.onClickByFeature(node, event);\n      };\n\n      return {\n        ...acc,\n        themeByFeature: mergedTheme,\n        classNamesByFeature: mergedClassName,\n        onClickByFeature: mergedOnClick,\n      };\n    },\n    {\n      themeByFeature: '',\n      classNamesByFeature: '',\n      onClickByFeature: (node, event) => {\n        if (onSingleClick && isRowClick(event)) {\n          onSingleClick(node, event);\n        }\n      },\n    }\n  );\n\n  return {\n    themeByFeature,\n    classNamesByFeature,\n    onClickByFeature,\n  };\n};\n\nconst Row = (props) => {\n  const {\n    item,\n    className,\n    disabled,\n    onClick,\n    onDoubleClick,\n    children,\n    ...rest\n  } = props;\n\n  const select = React.useContext(SelectContext);\n  const tree = React.useContext(TreeContext);\n\n  const features = {\n    select,\n    tree,\n    // others\n  };\n\n  const rowPropsByFeature = getRowProps(features, props);\n\n  const theme = React.useContext(ThemeContext);\n\n  const {\n    themeByFeature,\n    classNamesByFeature,\n    onClickByFeature,\n  } = evaluateProps(rowPropsByFeature, onClick);\n\n  const ref = React.useRef();\n\n  useDoubleClick(ref, onClickByFeature, onDoubleClick, item);\n\n  useConsumeRowLayout(ref, '.td');\n\n  return (\n    <RowContainer\n      {...rest}\n      role=\"row\"\n      className={cs('tr', 'tr-body', classNamesByFeature, className, {\n        disabled,\n        clickable: onClickByFeature || onDoubleClick,\n      })}\n      css={`\n        ${themeByFeature}\n        ${theme?.BaseRow}\n        ${theme?.Row}\n      `}\n      ref={ref}\n    >\n      {children}\n    </RowContainer>\n  );\n};\n\nRow.propTypes = {\n  item: PropTypes.objectOf(PropTypes.any),\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n    PropTypes.func,\n  ]),\n};\n\nexport { Row };\n","import * as React from 'react';\n\nconst useTableContext = (context) => {\n  const contextRef = React.useRef(context);\n\n  React.useEffect(() => {\n    contextRef.current = context;\n  }, [context]);\n\n  return contextRef;\n};\n\nexport { useTableContext };\n","import { useSyncRefState } from '@table-library/react-table-library/common/util/useSyncRefState';\nimport { useReducerWithMiddleware } from '@table-library/react-table-library/common/util/useReducerWithMiddleware';\nimport { useSyncControlledState } from '@table-library/react-table-library/common/util/useSyncControlledState';\n\nconst set = (state, action) => ({ ...state, ...action.payload });\n\nconst SET = 'SET';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SET: {\n      return set(state, action);\n    }\n    default:\n      throw new Error();\n  }\n};\n\nconst DEFAULT_STATE = {};\n\nconst useCustom = (name, data, primary = {}, context) => {\n  const primaryNullFallback = primary || {};\n  const controlledState = primaryNullFallback.state || DEFAULT_STATE;\n  const onChange = primaryNullFallback.onChange || (() => {});\n\n  const [state, dispatchWithMiddleware] = useReducerWithMiddleware(\n    reducer,\n    controlledState,\n    [],\n    [onChange],\n    context\n  );\n\n  useSyncControlledState(controlledState, state, () =>\n    dispatchWithMiddleware({\n      type: SET,\n      payload: controlledState,\n    })\n  );\n\n  useSyncRefState(name, context, state);\n\n  return state;\n};\n\nexport { useCustom };\n"],"names":["TableContext","React","createContext","Table","data","theme","layout","sort","pagination","select","tree","children","tableRef","useRef","modifiedNodes","nodes","_options","isServer","state","sortFn","sortFns","getPages","page","fromTreeToListExtended","treeXLevel","treeYLevel","className","role","ref","Provider","value","ThemeContext","SortContext","SelectContext","TreeContext","ResizeProvider","propTypes","PropTypes","objectOf","any","shape","custom","bool","oneOfType","arrayOf","node","func","Body","Header","style","useContext","Children","map","child","cloneElement","baseStyle","rowContainerStyle","COLORS","RowContainer","forwardRef","props","headerRowContainerStyle","useConsumeRowLayout","selector","ResizeContext","resizedLayout","calledOnce","useLayoutEffect","current","Array","from","querySelectorAll","forEach","cell","index","width","HeaderRow","disabled","allCells","shrinkCells","shrinkCellsWidth","reduce","acc","element","getBoundingClientRect","normalCells","_resizedLayout$curren","includes","percentage","length","diff","useProduceRowLayout","cs","BaseRow","toArray","filter","Boolean","Number","key","replace","string","NOOP","Row","item","onClick","onDoubleClick","rest","rowPropsByFeature","features","Object","values","feature","_getRowProps","getRowProps","onSingleClick","mergedTheme","themeByFeature","mergedClassName","classNamesByFeature","onClickByFeature","event","isRowClick","evaluateProps","useDoubleClickBase","latency","useDoubleClick","clickable","useTableContext","context","contextRef","useEffect","reducer","action","type","payload","set","Error","DEFAULT_STATE","useCustom","name","primary","primaryNullFallback","controlledState","onChange","useReducerWithMiddleware","dispatchWithMiddleware","useSyncControlledState","useSyncRefState"],"mappings":"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"}